// Generated by CoffeeScript 1.6.2
(function() {
  var Field, Model, Schema, controllers;

  Model = require("./model");

  Field = require("./field");

  controllers = require("./field/controllers");

  /*
  */


  Schema = (function() {
    /*
    */
    function Schema(definition, name, service) {
      this.name = name;
      this.service = service;
      definition._id = "string";
      this.field = new Field(definition);
      this.field.schema = this;
      this.field.service = this.service;
      this._rootFieldController = controllers.transporter(this.field);
    }

    /*
    */


    Schema.prototype.model = function(data, options) {
      var m;

      if (data == null) {
        data = {};
      }
      if (options == null) {
        options = {};
      }
      m = new Model(this);
      this._rootFieldController.prepareModel(m, data, options);
      return m;
    };

    /*
    */


    Schema.prototype.collection = function(data, options) {
      if (data == null) {
        data = {};
      }
      if (options == null) {
        options = {};
      }
    };

    return Schema;

  })();

  module.exports = function(definition, name, service) {
    return new Schema(definition, name, service);
  };

}).call(this);
